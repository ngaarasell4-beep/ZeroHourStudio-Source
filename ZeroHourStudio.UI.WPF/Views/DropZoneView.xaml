<UserControl x:Class="ZeroHourStudio.UI.WPF.Views.DropZoneView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="Transparent" AllowDrop="True"
             DragEnter="OnDragEnter" DragLeave="OnDragLeave" Drop="OnDrop">

    <Border x:Name="DropBorder" CornerRadius="12" BorderThickness="2" MinHeight="150"
            BorderBrush="#1A00D4FF">
        <Border.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                <GradientStop Color="#08FFFFFF" Offset="0"/>
                <GradientStop Color="#03FFFFFF" Offset="1"/>
            </LinearGradientBrush>
        </Border.Background>

        <Grid>
            <!-- Geometric Grid Background -->
            <Border CornerRadius="12" Opacity="0.3">
                <Border.Background>
                    <DrawingBrush TileMode="Tile" Viewport="0,0,40,40" ViewportUnits="Absolute">
                        <DrawingBrush.Drawing>
                            <DrawingGroup>
                                <GeometryDrawing>
                                    <GeometryDrawing.Pen>
                                        <Pen Brush="#08FFFFFF" Thickness="0.5"/>
                                    </GeometryDrawing.Pen>
                                    <GeometryDrawing.Geometry>
                                        <GeometryGroup>
                                            <LineGeometry StartPoint="0,0" EndPoint="40,0"/>
                                            <LineGeometry StartPoint="0,0" EndPoint="0,40"/>
                                        </GeometryGroup>
                                    </GeometryDrawing.Geometry>
                                </GeometryDrawing>
                            </DrawingGroup>
                        </DrawingBrush.Drawing>
                    </DrawingBrush>
                </Border.Background>
            </Border>

            <!-- Scanner Line (animated) -->
            <Border x:Name="ScannerLine" Height="2" VerticalAlignment="Top"
                    Opacity="0.6" IsHitTestVisible="False">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#0000D4FF" Offset="0"/>
                        <GradientStop Color="#00D4FF" Offset="0.5"/>
                        <GradientStop Color="#0000D4FF" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>
                <Border.RenderTransform>
                    <TranslateTransform x:Name="ScannerTransform"/>
                </Border.RenderTransform>
            </Border>

            <!-- Corner Brackets -->
            <Canvas IsHitTestVisible="False">
                <!-- Top-Left -->
                <Path Stroke="#00D4FF" StrokeThickness="2" Opacity="0.4"
                      Data="M 20,8 L 8,8 L 8,20"/>
                <!-- Top-Right -->
                <Path Stroke="#00D4FF" StrokeThickness="2" Opacity="0.4"
                      Data="M -20,8 L -8,8 L -8,20" Canvas.Right="0"/>
                <!-- Bottom-Left -->
                <Path Stroke="#00D4FF" StrokeThickness="2" Opacity="0.4"
                      Data="M 20,-8 L 8,-8 L 8,-20" Canvas.Bottom="0"/>
                <!-- Bottom-Right -->
                <Path Stroke="#00D4FF" StrokeThickness="2" Opacity="0.4"
                      Data="M -20,-8 L -8,-8 L -8,-20" Canvas.Right="0" Canvas.Bottom="0"/>
            </Canvas>

            <!-- Center Content -->
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock x:Name="DropIcon" Text="⬡" FontSize="36"
                           Foreground="#1A00D4FF" HorizontalAlignment="Center"/>
                <TextBlock x:Name="DropText" Text="اسحب وحدة هنا"
                           Foreground="#334455" FontSize="13" FontWeight="Medium"
                           HorizontalAlignment="Center" Margin="0,8,0,0"/>
                <TextBlock x:Name="DropSubText" Text="أو اختر وحدة واضغط نقل"
                           Foreground="#223344" FontSize="10"
                           HorizontalAlignment="Center" Margin="0,4,0,0"/>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>

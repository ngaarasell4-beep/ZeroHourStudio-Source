<Window x:Class="ZeroHourStudio.UI.WPF.Views.IniValidationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ðŸ” ÙƒØ§Ø´Ù Ø£Ø®Ø·Ø§Ø¡ INI"
        Width="750" Height="550"
        WindowStartupLocation="CenterOwner"
        Background="#0D1117">

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,12">
            <TextBlock Text="ðŸ” ÙƒØ§Ø´Ù Ø£Ø®Ø·Ø§Ø¡ INI" FontSize="20" FontWeight="Bold" Foreground="#00D4FF"/>
            <TextBlock x:Name="SubtitleText" Text="ÙØ­Øµ Ù…Ù„ÙØ§Øª INI Ù„Ù„ÙƒØ´Ù Ø¹Ù† Ø£Ù‚ÙˆØ§Ø³ End Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø© ÙˆØ§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…ÙƒØ±Ø±Ø©"
                       FontSize="12" Foreground="#8899AA" Margin="0,4,0,0"/>
        </StackPanel>

        <!-- Summary Bar -->
        <Border Grid.Row="1" CornerRadius="8" Padding="12,8" Margin="0,0,0,12">
            <Border.Style>
                <Style TargetType="Border">
                    <Setter Property="Background" Value="#1A2332"/>
                </Style>
            </Border.Style>
            <StackPanel Orientation="Horizontal">
                <TextBlock x:Name="SummaryText" FontSize="13" Foreground="#E8EDF3" VerticalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- Issues List -->
        <ListBox Grid.Row="2" x:Name="IssuesList"
                 Background="Transparent" BorderThickness="0"
                 ScrollViewer.HorizontalScrollBarVisibility="Disabled">
            <ListBox.ItemContainerStyle>
                <Style TargetType="ListBoxItem">
                    <Setter Property="Background" Value="Transparent"/>
                    <Setter Property="Foreground" Value="#C9D1D9"/>
                    <Setter Property="Padding" Value="8,6"/>
                    <Setter Property="Margin" Value="0,1"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="ListBoxItem">
                                <Border Background="{TemplateBinding Background}"
                                        CornerRadius="6" Padding="{TemplateBinding Padding}">
                                    <ContentPresenter/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#161B22"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </ListBox.ItemContainerStyle>
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Severity Icon -->
                        <TextBlock Grid.Column="0" FontSize="16" Margin="0,0,8,0" VerticalAlignment="Center">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Text" Value="âš "/>
                                    <Setter Property="Foreground" Value="#FFD700"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Severity}" Value="Error">
                                            <Setter Property="Text" Value="âŒ"/>
                                            <Setter Property="Foreground" Value="#FF6666"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Severity}" Value="Info">
                                            <Setter Property="Text" Value="â„¹"/>
                                            <Setter Property="Foreground" Value="#87CEEB"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>

                        <!-- Message -->
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="{Binding Message}" FontSize="12" Foreground="#E8EDF3"
                                       TextWrapping="Wrap"/>
                            <TextBlock FontSize="10" Foreground="#556677" Margin="0,2,0,0"
                                       TextTrimming="CharacterEllipsis">
                                <Run Text="{Binding FileName, Mode=OneWay}"/>
                                <Run Text=" Ø³Ø·Ø± "/>
                                <Run Text="{Binding LineNumber, Mode=OneWay}"/>
                            </TextBlock>
                        </StackPanel>

                        <!-- Type Badge -->
                        <Border Grid.Column="2" Background="#161B22" CornerRadius="4"
                                Padding="6,2" VerticalAlignment="Center" Margin="8,0,0,0">
                            <TextBlock Text="{Binding IssueType}" FontSize="9" Foreground="#8899AA"/>
                        </Border>
                    </Grid>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <!-- Empty State -->
        <TextBlock Grid.Row="2" x:Name="EmptyMessage"
                   Text="âœ… Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ù…Ù„ÙØ§Øª INI"
                   FontSize="14" Foreground="#00CC66"
                   HorizontalAlignment="Center" VerticalAlignment="Center"
                   Visibility="Collapsed"/>

        <!-- Close Button -->
        <Button Grid.Row="3" Content="Ø¥ØºÙ„Ø§Ù‚" Click="Close_Click"
                Background="#21262D" Foreground="#C9D1D9" BorderBrush="#30363D"
                Padding="20,8" HorizontalAlignment="Right" Margin="0,12,0,0"
                FontSize="12" Cursor="Hand"/>
    </Grid>
</Window>
